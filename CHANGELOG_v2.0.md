# 更新日志 - v2.0

## 版本 2.0 (2025-10-28)

### 🎉 主要新增功能

#### 1. ⚖️ RWA合规咨询代理集成

**功能概述:**
- 提供全球多司法管辖区的RWA监管指导
- 覆盖美国、香港、中国、阿联酋、欧盟、英国、瑞士等主要市场
- 实时监管动态更新和政策分析
- 全面的合规评估框架

**支持的查询类型:**
- 特定司法管辖区的监管要求（如SEC、SFC、FINMA等）
- 跨境合规和多司法管辖区对比
- 许可证申请流程和合规步骤
- AML/KYC要求和投资者保护规定
- 最新监管动态和政策更新

**关键特性:**
- 🌍 多司法管辖区知识库
- 🔍 实时网络搜索和信息检索
- 📚 官方监管文件和指导文件整合
- ⚠️ 风险识别和合规建议
- 📊 监管环境对比分析

**触发关键词:**
- compliance, regulation, legal, license, sec, law, regulatory
- 合规, 监管, 法律, 法规, 许可, 牌照

---

#### 2. 📈 RWA投资咨询代理集成

**功能概述:**
- 全面的RWA市场分析和资产对比
- 个性化投资组合建议
- 历史业绩回测和风险评估
- 基于用户风险偏好的定制化策略

**支持的查询类型:**
- RWA市场概览和趋势分析
- 资产对比和排名（国债、房地产、商品等）
- 个性化投资组合构建
- 风险评估和压力测试
- 历史回报分析和业绩归因

**关键特性:**
- 📊 实时数据收集（从 https://app.rwa.xyz/）
- 🏆 多维度资产分类和排名
- 💼 个性化策略生成（保守型/平衡型/激进型）
- 📉 风险调整收益率分析
- 🎯 投资组合优化建议

**触发关键词:**
- invest, investment, portfolio, return, yield, risk, market, analysis
- 投资, 收益, 风险, 市场, 分析, 组合

---

### 🔧 技术改进

#### 工作流路由增强
- 升级 `rwa_workflow.py` 的 `intent_router` 函数
- 新增合规咨询和投资咨询的智能路由
- 支持中英文关键词识别
- 优化意图识别准确性

#### 前端界面更新
- 更新欢迎消息，展示全部5项服务
- 优化用户指导信息
- 添加服务说明和使用示例
- 改进副标题描述

#### 代码质量提升
- 修复类型检查问题（`StepInput.message` 类型安全处理）
- 统一代理初始化流程
- 改进错误处理和异常捕获

---

### 📝 文档更新

#### 新增文档
1. **COMPLIANCE_INVESTMENT_GUIDE.md** - 合规与投资咨询使用指南
   - 功能介绍和使用示例
   - 关键词触发说明
   - 注意事项和免责声明

2. **test_new_agents.py** - 新代理集成测试脚本
   - 合规代理测试用例
   - 投资代理测试用例
   - 欢迎消息测试

3. **CHANGELOG_v2.0.md** - 版本更新日志（本文件）

---

### 🎯 服务能力对比

| 服务类型 | v1.0 | v2.0 |
|---------|------|------|
| 资产核验 | ✅ | ✅ |
| 资产评估 | ✅ | ✅ |
| 资产代币化 | ✅ | ✅ |
| 合规咨询 | ❌ | ✅ **新增** |
| 投资咨询 | ❌ | ✅ **新增** |

---

### 🚀 使用方式

#### 启动应用
```bash
# 设置必需的环境变量
export OPENAI_API_KEY=your_api_key

# 启动Streamlit应用
streamlit run app/main.py
```

#### 测试新功能
```bash
# 运行集成测试
python test_new_agents.py
```

---

### 💡 使用示例

#### 合规咨询示例
```
用户: 我想在美国进行房地产代币化，需要遵守哪些SEC的规定？

系统: [路由到合规代理]
      提供详细的SEC监管要求、注册豁免选项、Howey测试标准等...
```

#### 投资咨询示例
```
用户: 我是保守型投资者，有10万美元投资RWA，请推荐投资组合

系统: [路由到投资代理]
      分析市场，提供60%国债+25%债券+10%房地产+5%商品的配置建议...
```

---

### ⚠️ 重要提示

1. **环境变量要求**
   - 必须设置 `OPENAI_API_KEY`
   - 合规代理可选配置 Azure Embedder（用于知识库）

2. **依赖项**
   - 确保已安装所有 requirements.txt 中的依赖
   - 合规代理需要 `pypdf` 和 `lancedb`（如使用PDF知识库）

3. **免责声明**
   - 合规和投资咨询仅供参考，不构成法律或投资建议
   - 用户应咨询专业律师和持牌金融顾问

---

### 🔮 未来规划

- [ ] 添加更多司法管辖区的合规知识库
- [ ] 集成实时RWA市场数据API
- [ ] 支持多语言界面切换
- [ ] 添加用户投资组合跟踪功能
- [ ] 提供PDF格式的分析报告导出

---

### 🙏 致谢

感谢所有贡献者和用户的支持！

如有问题或建议，欢迎访问:
- GitHub: https://github.com/MazeGuruAI/DRWA.GURU
- Issues: https://github.com/MazeGuruAI/DRWA.GURU/issues

---

**发布日期**: 2025-10-28  
**版本**: 2.0.0  
**状态**: Stable
